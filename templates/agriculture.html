{% extends "base.html" %}

{% block title %}Agriculture Insights{% endblock %}

{% block content %}
<div class="card">
  <h2>Agriculture Insights</h2>
  <form action="{{ url_for('agriculture') }}" method="post">
    <input type="text" name="location" placeholder="Enter city/country" value="{{ data.location_name if data and data.location_name else '' }}" style="padding:10px; width:80%; border-radius:8px; border:1px solid #ccc; margin-bottom:15px;">
    <br>
    <button type="submit" class="btn">Get Insights</button>
  </form>

  {% if data %}
    {% if data.error %}
      <p class="error">{{ data.error }}</p>
    {% else %}
      <h5>Agriculture Insights for {{ data.location_name }}</h5>
      <p>Average Temperature (last 7 days): <strong>{{ data.temperature_avg }} Â°C</strong></p>
      <p>Total Rainfall (last 7 days): <strong>{{ data.precipitation_total }} mm</strong></p>
      <p>Suggested Crops: <strong>{{ data.suggested_crops | join(", ") }}</strong></p>
      <p style="margin-top:20px; font-size:0.9em; color:#777;">Press the logo to go back to Weather</p>
    {% endif %}
  {% else %}
    <p>Enter a location above to view agriculture insights.</p>
  {% endif %}
</div>
{% endblock %}
